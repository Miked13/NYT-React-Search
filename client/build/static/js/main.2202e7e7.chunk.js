(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{30:function(e,t,a){e.exports=a(78)},36:function(e,t,a){},38:function(e,t,a){},40:function(e,t,a){},73:function(e,t,a){},75:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(27),c=a.n(l),s=a(80),i=a(81),o=a(82),u=(a(36),function(){return r.a.createElement("div",{className:"jumbotron"},r.a.createElement("h1",{className:"text-center"},r.a.createElement("strong",null,r.a.createElement("i",{className:"fa fa-newspaper-o"})," New York Times Search")))}),m=a(28),d=a(11),h=a(12),f=a(15),E=a(13),v=a(16),g=(a(38),a(40),function(e){var t=e.result,a=e.saveButton;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("br",null),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("strong",null,r.a.createElement("i",{className:"fa fa-table"})," Results")),r.a.createElement("div",{className:"card-body",id:"article-section"},t.map(function(e,t){return r.a.createElement("div",{key:t,className:"alert alert-warning",role:"alert"},e.headline.print_headline?r.a.createElement("a",{href:e.web_url,target:"_blank",rel:"noopener noreferrer"},e.headline.print_headline):r.a.createElement("a",{href:e.web_url,target:"_blank",rel:"noopener noreferrer"},e.headline.main),r.a.createElement("button",{type:"button",id:t,onClick:function(){return a(t)},className:"float-right btn btn-primary"},"Save"))})))))}),p=a(7),b=a.n(p),N={getArticles:function(){return b.a.get("/api/articles")},saveArticles:function(e){return b.a.post("/api/articles",e)},getOneArticle:function(e){return b.a.get("/api/articles/"+e)},deleteArticle:function(e){return b.a.delete("api/articles/"+e)},search:function(e){return b.a.post("/nyt/"+e)}},S=a(20),y=a.n(S),w=(a(71),function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={search:"",startYear:"",endYear:"",results:[]},a.formatStartDate=function(e){var t=e.getFullYear().toString();return e.getMonth()+1<10?t+="0"+(e.getMonth()+1).toString():t+=(e.getMonth()+1).toString(),e.getDate()<10?t+="0"+e.getDate().toString():t+=e.getDate().toString(),a.setState({startYear:t}),t},a.formatEndDate=function(e){var t=e.getFullYear().toString();return e.getMonth()+1<10?t+="0"+(e.getMonth()+1).toString():t+=(e.getMonth()+1).toString(),e.getDate()<10?t+="0"+e.getDate().toString():t+=e.getDate().toString(),a.setState({endYear:t}),t},a.handleFormSubmit=function(e){e.preventDefault(),a.state.startYear&&a.state.endYear?N.search("&q="+a.state.search+"&begin_date="+a.state.startYear+"&end_date="+a.state.endYear).then(function(e){a.setState({results:e.data}),a.handleResetButton()}):N.search("&q="+a.state.search).then(function(e){a.setState({results:e.data}),a.handleResetButton()})},a.handleResetButton=function(){a.setState({search:"",startYear:"",endYear:""})},a.handleInputChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(m.a)({},n,r))},a.handleArticleSave=function(e){var t={title:a.state.results[e].headline.print_headline?a.state.results[e].headline.print_headline:a.state.results[e].headline.main,date:a.state.results[e].pub_date?a.state.results[e].pub_date:void 0,url:a.state.results[e].web_url};N.saveArticles(t).catch(function(e){return console.log(e)})},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("br",null),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("strong",null,r.a.createElement("i",{className:"fa fa-list-alt"})," Search")),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"search"},"Search Term:"),r.a.createElement("input",{onChange:this.handleInputChange,value:this.state.search,type:"text",className:"form-control",name:"search"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"start-year"},"Start Year:"),r.a.createElement(y.a,{onDayChange:function(t){return e.formatStartDate(t)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"end-year"},"End Year: "),r.a.createElement(y.a,{onDayChange:function(t){return e.formatEndDate(t)}})),r.a.createElement("button",{type:"submit",onClick:this.handleFormSubmit,className:"btn btn-default",id:"run-search"},r.a.createElement("i",{className:"fa fa-search"})," Search"),r.a.createElement("button",{type:"reset",onClick:this.handleResetButton,className:"btn btn-default",id:"clear-all"},r.a.createElement("i",{className:"fa fa-trash"})," Clear Results")))))),r.a.createElement(g,{result:this.state.results,saveButton:this.handleArticleSave}))}}]),t}(n.Component)),k=(a(73),function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={saved:[]},a.formatDate=function(e){return e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear()},a.deleteArticle=function(e){N.deleteArticle(e).then(function(e){return a.displayArticles()}).catch(function(e){return console.log(e)})},a.displayArticles=function(){N.getArticles().then(function(e){a.setState({saved:e.data}),console.log(e.data)}).catch(function(e){return console.log(e)})},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.displayArticles()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("br",null),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("strong",null,r.a.createElement("i",{className:"fa fa-table"})," Saved Articles")),r.a.createElement("div",{className:"card-body",id:"saved-section"},this.state.saved.map(function(t){return r.a.createElement("div",{key:t._id,className:"saved alert alert-primary",role:"alert"},r.a.createElement("a",{href:t.url,target:"_blank",rel:"noopener noreferrer"},t.title),r.a.createElement("span",null,"Article Date: ",e.formatDate(new Date(t.date))),r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){return e.deleteArticle(t._id)}},"Remove"))})))))}}]),t}(n.Component)),D=(a(75),function(){return r.a.createElement("ul",{className:"nav bg-dark"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/"},"Search")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/saved"},"Saved")))}),A=function(){return r.a.createElement("div",{className:"container pb-5"},r.a.createElement(D,null),r.a.createElement(u,null),r.a.createElement(s.a,null,r.a.createElement("div",null,r.a.createElement(i.a,null,r.a.createElement(o.a,{exact:!0,path:"/",component:w}),r.a.createElement(o.a,{exact:!0,path:"/saved",component:k})))))},Y=function(){return r.a.createElement(A,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[30,2,1]]]);
//# sourceMappingURL=main.2202e7e7.chunk.js.map